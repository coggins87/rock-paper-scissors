<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>
//this function creates a random value from the computer
        function computerPlay(){
            let words = ['rock', 'paper', 'scissors'];
            let number = Math.floor(Math.random() * words.length);
            let computerSelection = words[number];
            return computerSelection;
        }
// this function gets the player input
        function playerPlay(){
            let playerInput = prompt("Rock, paper, scissors, shoot!");
            let playerSelection = playerInput.toLowerCase();
            if (playerSelection == null){
                return 'Try Again'
            } else {
            return playerSelection;
            }
    }

// this plays one round of the game 
         function playRound(playerTurn, computerTurn) {
            if (computerTurn === playerTurn){
                console.log('tie');   
                return "It's a tie";
            }
            else if (computerTurn === 'rock') {
                if (playerTurn === 'scissors'){
                    console.log('loseerrrr');
                    return "You lose, rock beats scissors";
                } else {
                    console.log ('winnnerrr');
                    return "You win, paper beats rock";
                }
            }
            else if (computerTurn === 'paper'){
                if (playerTurn === 'rock'){
                    console.log ('looosserr');
                    return "You lose, paper beats rock";
                } else {
                    console.log ('winnnneerrr');
                    return "You win, scissors beats paper";
                }
            }
            else {
                if (playerTurn === 'rock'){
                    console.log ('winnnnerrr');
                    return "You win, rock beats scissors";
                } else {
                    console.log ('loooserrr');
                    return "You lose, scissors beats paper";
                }
            }
         }

        function game(){
            let playerScore = 0;
            let computerScore = 0;
            //plays 5 rounds of the game
            for (let counter=0; counter < 5; counter++){
                let playerTurn = playerPlay();
                console.log(playerTurn);
                let computerTurn = computerPlay();
                console.log(computerTurn);
                let outcome = playRound(playerTurn, computerTurn);
                console.log(outcome);

                if (outcome.search('win') != -1){
                    playerScore++;
                } else if (outcome.search('lose') != -1) {
                    computerScore++;
                } 
                
    
                console.log("Player: " + playerScore);
                
                console.log(computerScore);
            
                }
            if (playerScore > computerScore){
                console.log('You beat the machine!');
                return "You beat the machine!";
            } else if (playerScore < computerScore) {
                console.log('The machine prevails!');
                return 'The machine prevails!';
            } else {
                console.log('Woah! It\'s a tie!');
                return 'Woah! It\'s a tie!';
            }
        }
        
        game();

        </script>
    </body>
</html>